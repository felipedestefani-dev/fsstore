<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controler - Gerenciador de Gastos e Ganhos</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="header__title">
                Controler
                <svg class="icon icon--logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                </svg>
            </h1>
            <div class="header__actions">
                <button class="btn btn--secondary btn--small" id="reset-all-btn" title="Apagar todas as transações e zerar saldo">
                    Resetar tudo
                </button>
                <button class="privacy-toggle" id="privacy-toggle" title="Ocultar/Mostrar valores">
                    <svg class="privacy-toggle__icon privacy-toggle__icon--visible" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z" fill="currentColor"/>
                    </svg>
                    <svg class="privacy-toggle__icon privacy-toggle__icon--hidden" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path d="M12 7C14.76 7 17 9.24 17 12C17 12.65 16.87 13.26 16.64 13.82L19.56 16.74C21.07 15.49 22.26 13.86 23 12C21.27 7.61 17 4.5 12 4.5C10.6 4.5 9.26 4.75 8 5.2L10.17 7.37C10.74 7.13 11.35 7 12 7ZM2 4.27L4.28 6.55L4.73 7C3.08 8.3 1.78 10.02 1 12C2.73 16.39 7 19.5 12 19.5C13.55 19.5 15.03 19.2 16.38 18.66L16.8 19.08L19.73 22L21 20.73L3.27 3L2 4.27ZM7.53 9.8L9.08 11.35C9.03 11.56 9 11.78 9 12C9 13.66 10.34 15 12 15C12.22 15 12.44 14.97 12.65 14.92L14.2 16.47C13.53 16.8 12.79 17 12 17C9.24 17 7 14.76 7 12C7 11.21 7.2 10.47 7.53 9.8ZM11.84 9.02L14.99 12.17L15.01 12.01C15.01 10.35 13.67 9.01 12.01 9.01L11.84 9.02Z" fill="currentColor"/>
                    </svg>
                    <span class="privacy-toggle__text">Ocultar Valores</span>
                </button>
            </div>
        </header>

        <!-- Summary Cards -->
        <section class="summary">
            <div class="summary__card summary__card--income">
                <div class="summary__icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 6L18.29 8.29L13.41 13.17L9.41 9.17L2 16.59L3.41 18L9.41 12L13.41 16L19.71 9.71L22 12V6H16Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="summary__content">
                    <h3 class="summary__label">Total de Ganhos</h3>
                    <p class="summary__value" id="total-income">R$ 0,00</p>
                </div>
            </div>
            <div class="summary__card summary__card--expense">
                <div class="summary__icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 18L18.29 15.71L13.41 10.83L9.41 14.83L2 7.41L3.41 6L9.41 12L13.41 8L19.71 14.29L22 12V18H16Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="summary__content">
                    <h3 class="summary__label">Total de Gastos</h3>
                    <p class="summary__value" id="total-expense">R$ 0,00</p>
                </div>
            </div>
            <div class="summary__card summary__card--balance">
                <div class="summary__icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.8 10.9C9.53 10.31 8.8 9.7 8.8 8.75C8.8 7.66 9.81 6.9 11.5 6.9C13.28 6.9 13.94 7.75 14 9H16.21C16.14 7.28 15.09 5.7 13 5.19V3H10V5.16C8.06 5.58 6.5 6.84 6.5 8.77C6.5 10.65 8.2 11.9 11.2 12.58C13.85 13.15 14.2 14.05 14.2 14.83C14.2 15.95 13.35 16.9 11.5 16.9C9.45 16.9 8.7 15.9 8.6 14.7H6.39C6.5 16.75 8.11 18.1 10 18.5V21H13V18.84C14.95 18.5 16.5 17.35 16.5 15.3C16.5 13.1 14.5 11.7 11.8 10.9Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="summary__content">
                    <div class="summary__header">
                        <h3 class="summary__label">Saldo</h3>
                        <div class="summary__balance-actions">
                            <button class="summary__edit-btn" id="add-balance-btn" title="Adicionar dinheiro ao saldo">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="currentColor"/>
                                </svg>
                            </button>
                            <button class="summary__edit-btn summary__edit-btn--danger" id="reset-balance-btn" title="Zerar saldo adicionado">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <p class="summary__value" id="balance">R$ 0,00</p>
                    <p class="summary__subtext" id="balance-detail">Dinheiro adicionado: R$ 0,00</p>
                </div>
            </div>
            <div class="summary__card summary__card--investment">
                <div class="summary__icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM7 10H9V17H7V10ZM11 7H13V17H11V7ZM15 13H17V17H15V13Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="summary__content">
                    <h3 class="summary__label">Total Investido</h3>
                    <p class="summary__value" id="total-investment">R$ 0,00</p>
                </div>
            </div>
        </section>

        <!-- Form Section -->
        <section class="form-section">
            <div class="form-container">
                <h2 class="form-section__title">Adicionar Transação</h2>
                <form id="transaction-form" class="form">
                    <div class="form__group">
                        <label for="description" class="form__label">Descrição</label>
                        <input 
                            type="text" 
                            id="description" 
                            class="form__input" 
                            placeholder="Ex: Salário, Aluguel, Supermercado..."
                            required
                        >
                    </div>

                    <div class="form__group">
                        <label for="amount" class="form__label">Valor (R$)</label>
                        <input 
                            type="number" 
                            id="amount" 
                            class="form__input" 
                            placeholder="0.00"
                            step="0.01"
                            min="0"
                            required
                        >
                    </div>

                    <div class="form__group">
                        <label for="type" class="form__label">Tipo</label>
                        <select id="type" class="form__input" required>
                            <option value="">Selecione...</option>
                            <option value="income">Ganho</option>
                            <option value="expense">Gasto</option>
                        </select>
                    </div>

                    <div class="form__group">
                        <label for="category" class="form__label">Categoria</label>
                        <select id="category" class="form__input" required>
                            <option value="">Selecione uma categoria...</option>
                        </select>
                    </div>

                    <div class="form__group">
                        <label for="date" class="form__label">Data</label>
                        <input 
                            type="date" 
                            id="date" 
                            class="form__input" 
                            required
                        >
                    </div>

                    <button type="submit" class="btn btn--primary">
                        <svg class="btn__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="currentColor"/>
                        </svg>
                        Adicionar Transação
                    </button>
                </form>
            </div>
        </section>

        <!-- Filters -->
        <section class="filters">
            <div class="filters__container">
                <div class="filter-group">
                    <label for="filter-type" class="filter__label">Filtrar por tipo:</label>
                    <select id="filter-type" class="filter__select">
                        <option value="all">Todos</option>
                        <option value="income">Ganhos</option>
                        <option value="expense">Gastos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-category" class="filter__label">Filtrar por categoria:</label>
                    <select id="filter-category" class="filter__select">
                        <option value="all">Todas</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="search" class="filter__label">Buscar:</label>
                    <input 
                        type="text" 
                        id="search" 
                        class="filter__input" 
                        placeholder="Buscar por descrição..."
                    >
                </div>
                <button id="clear-filters" class="btn btn--secondary btn--small">
                    Limpar Filtros
                </button>
            </div>
        </section>

        <!-- Transactions List -->
        <section class="transactions">
            <div class="transactions__header">
                <h2 class="transactions__title">Transações</h2>
                <p class="transactions__count" id="transactions-count">0 transações</p>
            </div>
            <div id="transactions-list" class="transactions__list">
                <div class="empty-state">
                    <svg class="empty-state__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM16 18H8V16H16V18ZM16 14H8V12H16V14ZM13 9V3.5L18.5 9H13Z" fill="currentColor"/>
                    </svg>
                    <p class="empty-state__text">Nenhuma transação cadastrada ainda.</p>
                    <p class="empty-state__subtext">Adicione sua primeira transação acima!</p>
                </div>
            </div>
        </section>

        <!-- Exchange Rates Section -->
        <section class="exchange-rates">
            <div class="exchange-rates__header">
                <h2 class="exchange-rates__title">Cotações em Tempo Real</h2>
                <button class="btn btn--secondary btn--small" id="refresh-rates" title="Atualizar cotações">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 16px; height: 16px;">
                        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="currentColor"/>
                    </svg>
                    Atualizar
                </button>
            </div>
            <div class="exchange-rates__container" id="exchange-rates-container">
                <div class="exchange-rates__loading">
                    <div class="loading-spinner"></div>
                    <p>Carregando cotações...</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Add Balance Modal -->
    <div id="add-balance-modal" class="modal">
        <div class="modal__content">
            <div class="modal__header">
                <h2 class="modal__title">Adicionar Dinheiro ao Saldo</h2>
                <button class="modal__close" id="close-add-balance-modal">&times;</button>
            </div>
            <form id="add-balance-form" class="form">
                <div class="form__group">
                    <label for="add-balance-amount" class="form__label">Valor a Adicionar (R$)</label>
                    <input 
                        type="number" 
                        id="add-balance-amount" 
                        class="form__input" 
                        placeholder="0.00"
                        step="0.01"
                        min="0"
                        required
                    >
                    <p class="form__help">Este valor será somado ao saldo atual (Ganhos - Gastos)</p>
                </div>
                <div class="modal__actions">
                    <button type="button" class="btn btn--secondary" id="cancel-add-balance">Cancelar</button>
                    <button type="submit" class="btn btn--primary">Adicionar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal__content">
            <div class="modal__header">
                <h2 class="modal__title">Editar Transação</h2>
                <button class="modal__close" id="close-modal">&times;</button>
            </div>
            <form id="edit-form" class="form">
                <div class="form__group">
                    <label for="edit-description" class="form__label">Descrição</label>
                    <input 
                        type="text" 
                        id="edit-description" 
                        class="form__input" 
                        required
                    >
                </div>
                <div class="form__group">
                    <label for="edit-amount" class="form__label">Valor (R$)</label>
                    <input 
                        type="number" 
                        id="edit-amount" 
                        class="form__input" 
                        step="0.01"
                        min="0"
                        required
                    >
                </div>
                <div class="form__group">
                    <label for="edit-type" class="form__label">Tipo</label>
                    <select id="edit-type" class="form__input" required>
                        <option value="income">Ganho</option>
                        <option value="expense">Gasto</option>
                    </select>
                </div>
                <div class="form__group">
                    <label for="edit-category" class="form__label">Categoria</label>
                    <select id="edit-category" class="form__input" required>
                    </select>
                </div>
                <div class="form__group">
                    <label for="edit-date" class="form__label">Data</label>
                    <input 
                        type="date" 
                        id="edit-date" 
                        class="form__input" 
                        required
                    >
                </div>
                <input type="hidden" id="edit-id">
                <div class="modal__actions">
                    <button type="button" class="btn btn--secondary" id="cancel-edit">Cancelar</button>
                    <button type="submit" class="btn btn--primary">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
